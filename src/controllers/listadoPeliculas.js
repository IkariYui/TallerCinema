let peliculas=[
    {
        nombre:"Apocalipsis",
        duracion:120,
        poster:"https://firebasestorage.googleapis.com/v0/b/cinemajuanguillermocuartas.appspot.com/o/apocalipsis.png?alt=media&token=b3e38bc2-8635-4ca7-8cec-aa3b5071ee88",
        Sinopsis: "Un pequeño equipo de científicos debe competir contra el tiempo para detener lo que parece ser una cascada de desastres globales que señalan el posible apocalipsis y el final de los días."

    },
    {
        nombre:"Avatar",
        duracion:90,
        poster:"https://firebasestorage.googleapis.com/v0/b/cinemajuanguillermocuartas.appspot.com/o/avatar.png?alt=media&token=1cf47c8c-bd53-4390-959d-81efcad29c49",
        Sinopsis: "En un exuberante planeta llamado Pandora viven los Na'vi, seres que aparentan ser primitivos pero que en realidad son muy evolucionados. Debido a que el ambiente de Pandora es venenoso, los híbridos humanos/Na'vi, llamados Avatares, están relacionados con las mentes humanas, lo que les permite moverse libremente por Pandora. Jake Sully, un exinfante de marina paralítico se transforma a través de un Avatar, y se enamora de una mujer Na'vi."
    },
    {
        nombre:"Black Adam",
        duracion:85,
        poster:"https://firebasestorage.googleapis.com/v0/b/cinemajuanguillermocuartas.appspot.com/o/blackadam.png?alt=media&token=169449ff-9444-4abf-8bb4-7e0c7f461f47",
        Sinopsis: "Unos arqueólogos liberan de su tumba a Black Adam, quien llevaba 5000 años preso tras haber recibido los poderes de los dioses. De nuevo entre los humanos, Black Adam se dispone a imponer su justicia, muy diferente a la del mundo en el que despertó."
    },
    {
        nombre:"Black Panther - Wakanda For Ever",
        duracion:104,
        poster:"https://firebasestorage.googleapis.com/v0/b/cinemajuanguillermocuartas.appspot.com/o/blackpanther.jpg?alt=media&token=540fc3e0-866e-49a0-8a2c-64fd776dcd6e",
        Sinopsis: "Hace millones de años, un meteorito de poderoso vibranium impactó en África. Cuando llegó la era del hombre, la mayoría de los habitantes de aquel territorio se unieron bajo el mando de un guerrero chamán que, gracias al vibranium, adquirió fuerza, velocidad e instinto sobrehumano, convirtiéndose en el primer Black Panther."
    },
    {
        nombre: "Mar de Sangre",
        duracion:95,
        poster:"https://firebasestorage.googleapis.com/v0/b/cinemajuanguillermocuartas.appspot.com/o/bloodsea.png?alt=media&token=e6a9715f-82e9-4732-9c4d-2582939dd8c8",
        Sinopsis: "Un grupo de amigos que disfrutan de un fin de semana roban un par de motos de agua para dirigirse al mar pero terminan en una horrible colisión frontal. Ellos luchan por encontrar el camino de regreso a casa llevando a un amigo gravemente herido mientras los depredadores de las aguas los acechan."
    },
    {
        nombre: "Estamos Hechos para Amar",
        duracion:95,
        poster:"https://firebasestorage.googleapis.com/v0/b/cinemajuanguillermocuartas.appspot.com/o/buildtolove.jpg?alt=media&token=655760d3-d009-4bf0-b23d-aaf459cd7662",
        Sinopsis: "Antoine, un profesor de historia de cincuenta años, descubre que está perdiendo la audición. Su nueva vecina Claire, que ha venido a vivir temporalmente con su hermana y su hija tras la pérdida de su marido, sueña con la paz y la tranquilidad."
    },
    {
        nombre: "El fantasma de la niñera",
        duracion:95,
        poster:"https://firebasestorage.googleapis.com/v0/b/cinemajuanguillermocuartas.appspot.com/o/ghostbabysitter.png?alt=media&token=957b232a-1bca-4000-9108-e8486317cd85",
        Sinopsis: "Joy es la nueva criada de una casa real, cuya criada anterior desapareció en circunstancias misteriosas, y ahora persigue y aterroriza a la familia. Joy trabaja para descubrir el motivo de la desaparición de la ex sirvienta. "
    },
    {
        nombre: "Halloween",
        duracion:95,
        poster:"https://firebasestorage.googleapis.com/v0/b/cinemajuanguillermocuartas.appspot.com/o/halloween.jpg?alt=media&token=23d7bc05-7381-46af-a3d2-c64f73a07f8d",
        Sinopsis: "Cuatro años después de la desaparición de Michael Myers, el joven Corey lo encuentra maltrecho en las alcantarillas. Poco a poco, se establece un extraño vínculo entre estos dos personajes unidos por la venganza y la locura."
    },
    {
        nombre: "La mujer Rey",
        duracion:95,
        poster:"https://firebasestorage.googleapis.com/v0/b/cinemajuanguillermocuartas.appspot.com/o/kingwomen.png?alt=media&token=18e6fc65-c054-40a0-af47-d6f6bb0aa3cf",
        Sinopsis: "En la década de 1820, en África, una unidad militar exclusivamente femenina del reino de Dahomey se prepara para luchar contra las tropas invasoras del Imperio de Oyo, cuyo propósito es esclavizar a la población conquistada."
    },
    {
        nombre: "La luz del diablo",
        duracion:95,
        poster:"https://firebasestorage.googleapis.com/v0/b/cinemajuanguillermocuartas.appspot.com/o/lightdevil.png?alt=media&token=bc0abca3-edce-425d-8ef9-7781517b6928",
        Sinopsis: "Según informes reales del Vaticano, los casos de posesión demoníaca han aumentado significativamente en los últimos años. En respuesta, la iglesia católica ha reabierto en secreto escuelas de exorcismo para capacitar a los sacerdotes en este rito sagrado. LA LUZ DEL DIABLO te sumerge en el mundo de una de estas escuelas; última línea de defensa de la humanidad contra los poderes del mal eterno. Jacqueline Byers (“Roadies”, “Salvation”) interpreta a la hermana Ann, quien cree devotamente que realizar exorcismos es su vocación, a pesar de que históricamente sólo los sacerdotes, y no las hermanas, pueden realizarlos. Cuando un profesor siente su don especial decide aceptarla en el aula, lo que le permite ser la primera monja en estudiar y dominar el ritual. Su propia alma estará en peligro ya que las fuerzas demoníacas con las que lucha revelan una conexión misteriosa con su traumático pasado."
    }
]

// let fila=document.getElementById("fila")

// peliculas.forEach(function(pelicula){
//     console.log(pelicula.poster)

//     let foto=document.createElement("img")
//     foto.src=pelicula.poster
//     foto.classList.add("img-fluid","w-100")

//     fila.appendChild(foto)

// })




// creamos una referencia al espacio HTML donde queremos 
// hacer render(pintar etiquetas)
let etiquetaFila = document.getElementById("fila")

// si |ya tengo datos que normalmente llegan al front como arreglo
// de objetos debemos recorrer y depurar dicha informacion

peliculas.forEach(function(pelicula){
    //para pintar la informacion de cada pelicula 
    // debemos aplicar un atecnica conocida como traversing

    //traversing es crear etiquetas de HTML de JS

    let columna = document.createElement("div")
    columna.classList.add("col")

    let tarjeta = document.createElement("div")
    tarjeta.classList.add("card", "h-100", "shadow")


    let poster = document.createElement("img")
    poster.classList.add("img-fluid", "w-100")
    poster.src=pelicula.poster

    let nombre = document.createElement("h3")
    nombre.classList.add("text-center", "fw-bold")
    nombre.textContent = pelicula.nombre

    let duracion = document.createElement("h5")
    duracion.classList.add("text-start", "text-center", "highlight")
    duracion.textContent = "Duracion " +pelicula.duracion+ " Min"

    let Sinopsis = document.createElement("p")
    Sinopsis.classList.add("d-none")
    Sinopsis.textContent=pelicula.Sinopsis

    //padre e hijos
    etiquetaFila.appendChild(columna)
    columna.appendChild(tarjeta)
    tarjeta.appendChild(poster)
    tarjeta.appendChild(nombre)
    tarjeta.appendChild(duracion)
    tarjeta.appendChild(Sinopsis)
    
})

//Escuchando el evento del clic en alguna pelicula de la cartelera:
let peliculaSelecionada={}
etiquetaFila.addEventListener("click",function(evento){
    if(evento.target.classList.contains("img-fluid")){
        // alert("estas seleccionando una pelicula")

       
       peliculaSelecionada.imagen=evento.target.parentElement.querySelector('img').src
       peliculaSelecionada.titulo=evento.target.parentElement.querySelector('h3').textContent
       peliculaSelecionada.duracion=evento.target.parentElement.querySelector('h5').textContent
       peliculaSelecionada.sinopsis=evento.target.parentElement.querySelector("p").textContent

       //Enviando nuestros datos en la pelicula selecionada a la memoria
       localStorage.setItem("pelicula",JSON.stringify(peliculaSelecionada))

       window.location.href="./src/views/verInfopeliculas.html"

    }
})  

let proximas=[
    {
        nombreP: "Casablanca",
        duracionP:105,
        posterP:"https://firebasestorage.googleapis.com/v0/b/cinemajuanguillermocuartas.appspot.com/o/casablanca.jpg?alt=media&token=afde33f6-2c0e-439b-8223-2c100f27c2ab",
        sinopsisP:"A consecuencia de la Segunda Guerra Mundial, Casablanca era una ciudad a la que llegaban huyendo del nazismo gente de todas partes: llegar era fácil, pero salir era casi imposible, especialmente si el nombre del fugitivo figuraba en las listas de la Gestapo, que presionaba a la autoridades francesas al mando del corrupto inspector Renault. En este caso, el objetivo de la policía secreta alemana es el líder checo y héroe de la resistencia Victor Laszlo, cuya única esperanza es Rick Blaine, propietario del 'Rick’s Café' y antiguo amante de su mujer, Ilsa Lund. Rick e Ilsa se habían conocido en París, pero la entrada de las tropas alemanas en la capital francesa les separó.",

    },

    {
        nombreP:"Concert Of George",
        duracionP:105,
        posterP:"https://firebasestorage.googleapis.com/v0/b/cinemajuanguillermocuartas.appspot.com/o/concertofgeorge.jpg?alt=media&token=54081b25-4c11-4486-ab0d-29e154a2c320",
        sinopsisP:"El 29 de noviembre de 2002, un año después del fallecimiento de George Harrison, Olivia Harrison y su viejo amigo Eric Clapton organizaron un homenaje en su honor. Celebrado en el Royal Albert Hall de Londres, la velada trascendental contó con las canciones de George y la música que amaba, interpretada por una formación que incluía a Clapton, Joe Brown, Dhani Harrison, Jools Holland, Jeff Lynne, Paul McCartney, Monty Python, Tom Petty, Billy Preston, Ravi y Anoushka Shankar, Ringo Starr y muchos más. Dirigida por David Leland (cuyos créditos incluyen el largometraje Wish You Were Here, Band Of Brothers de HBO y el video de Traveling Wilburys Handle With Care), CONCERT FOR GEORGE captura impresionantes interpretaciones de algunas de las músicas más significativas del siglo XX, incluyendo “While My Guitar Gently Weeps” (con Clapton a la guitarra, McCartney al piano y Starr a la batería), “Taxman” (interpretada por Tom Petty and the Heartbreakers) y “The Inner Light” (versiones de Jeff Lynne y Anoushka Shankar). Lynne, amiga y colaboradora de Harrison desde hace mucho tiempo, produjo los elementos de audio del concierto, mientras que Clapton supervisó todo el proceso como director musical.",
    },

    {
        nombreP:"Fuerza Bruta",
        duracionP:110,
        posterP:"https://firebasestorage.googleapis.com/v0/b/cinemajuanguillermocuartas.appspot.com/o/fuerzabruta.jpg?alt=media&token=2868481c-7823-4e4f-aa2e-9f6703e333a7",
        sinopsisP:"Un agente de policía viaja a Vietnam para escoltar la extradición de un sospechoso, pero descubre la existencia de un asesino que lleva años atacando a los turistas.",
    },

    {
        nombreP:"NCT Dream",
        duracionP:120,
        posterP:"https://firebasestorage.googleapis.com/v0/b/cinemajuanguillermocuartas.appspot.com/o/nctdream.jpg?alt=media&token=9044df7b-f44d-4b91-9ffe-474fe0c28b8e",
        sinopsisP:"NCT DREAM presenta su primera película NCT DREAM THE MOVIE : In A DREAM en los cines de todo el mundo. Esta nueva película refleja actuaciones de gran energía con sus siete miembros, captadas durante su segundo concierto solista, «NCT DREAM TOUR 'THE DREAM SHOW2 : In A DREAM», en el emblemático Estadio Olímpico, el más grande de Corea del Sur y en el que los músicos sueñan presentarse. Este evento imperdible también incluye escenas detrás de escena, entrevistas exclusivas entre bastidores y ¡una mirada sobre el futuro que los integrantes vislumbran más allá del escenario!",
    },

    {
        nombreP:"Un Mundo Extraño",
        duracionP:105,
        posterP:"https://firebasestorage.googleapis.com/v0/b/cinemajuanguillermocuartas.appspot.com/o/unmundoextra%C3%B1o.jpg?alt=media&token=afcec3db-a75e-446a-a83a-0e3919b15f5e",
        sinopsisP:"Mundo extraño, un largometraje de acción original de Walt Disney Animation Studios, se sumerge en un viaje a una tierra inexplorada y traicionera en la que unos seres fantásticos aguardan la llegada de los míticos Clade, una familia de exploradores cuyas diferencias amenazan con frustrar su última misión, la más crucial con diferencia. Bajo las órdenes de Don Hall y el codirector/guionista Qui Nguyen, y producida por Roy Conli.",
    }
]

let etiquetaFila2 = document.getElementById("fila2")

proximas.forEach(function(proxima){

    let columnaP = document.createElement("div")
    columnaP.classList.add("col")

    let tarjetaP = document.createElement("div")
    tarjetaP.classList.add("card", "h-100", "shadow")


    let posterP = document.createElement("img")
    posterP.classList.add("img-fluid", "w-100")
    posterP.src=proxima.posterP

    let nombreP = document.createElement("h3")
    nombreP.classList.add("text-center", "fw-bold")
    nombreP.textContent = proxima.nombreP

    let duracionP = document.createElement("h5")
    duracionP.classList.add("text-start", "text-center", "highlight")
    duracionP.textContent = "Duracion " +proxima.duracionP+ " Min"

    let sinopsisP = document.createElement("p")
    sinopsisP.classList.add("d-none")
    sinopsisP.textContent=proxima.sinopsisP

    etiquetaFila2.appendChild(columnaP)
    columnaP.appendChild(tarjetaP)   
    tarjetaP.appendChild(posterP)
    tarjetaP.appendChild(nombreP)
    tarjetaP.appendChild(duracionP)
    tarjetaP.appendChild(sinopsisP)

})

let proximaSelecionada={}
etiquetaFila2.addEventListener("click",function(evento){
    if(evento.target.classList.contains("img-fluid")){
        // alert("estas seleccionando una pelicula")

       
       proximaSelecionada.imagen=evento.target.parentElement.querySelector('img').src
       proximaSelecionada.titulo=evento.target.parentElement.querySelector('h3').textContent
       proximaSelecionada.duracion=evento.target.parentElement.querySelector('h5').textContent
       proximaSelecionada.sinopsis=evento.target.parentElement.querySelector("p").textContent

       //Enviando nuestros datos en la pelicula selecionada a la memoria
       localStorage.setItem("pelicula",JSON.stringify(proximaSelecionada))
       

       window.location.href="./src/views/verInfopeliculas.html"
      

    }
})